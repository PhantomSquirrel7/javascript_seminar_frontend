<div fxLayoutGap="25px" fxLayout="column" style="margin-left: 50px;">
    <form [formGroup]="clsSelecForm" class="class-selection">
        Please Choose Class:
        <select formControlName="selectedClass" (change)="classSelected()" class="form-control fa-pull-right" style="margin-right: 10vw; max-width: 300px;">
            <option [ngValue]="null" disabled>Select your class</option>
            <option *ngFor="let selectedClass of user_classes" [ngValue]="selectedClass">{{selectedClass.name}}</option>
        </select>
    </form>

    <div *ngIf="isClassSelected && projectList.length > 0; else elseBlock"> 
        <form  [formGroup]="projectSelectForm" class="project-selection">
            Please Choose Project: 
            <select formControlName="selectedProject" (change)="projectSelected()" class="form-control fa-pull-right" style="margin-right: 10vw; max-width: 300px;">
                <option [ngValue]="null" disabled>Select your Project</option>
                <option *ngFor="let selectedProject of projectList" [ngValue]="selectedProject">{{selectedProject.classname}}: {{selectedProject.schoolName}}
            </select>
        </form>
    </div>

    <ng-template #elseBlock>
        <div *ngIf="isClassSelected">
           <h1> No Project for Selected Class. </h1>
        </div>
    </ng-template>


    <div *ngIf="meetingList"> 
        <div *ngFor="let meeting of meetingList" class="card shadow-lg rounded" style="margin: 20px;">
                <div class="card-header">Date: {{meeting.date | date :'short'}} </div>
                <div fxLayout="column" class="card-body">
                    <div><span fxFlex="0 0 25%"> Group Assignment: </span> {{meeting.groupAssignment}}</div>

                    <div *ngIf="meeting.groupAssignment == 'tandem'">
                        <span fxFlex="0 0 25%"> Group Organization: </span>
                        <button (click)="loadGroupArrangement(meeting)" 
                        type="button" class="btn btn-primary btn-sm" 
                        data-toggle="modal" 
                        data-target="#exampleModal">
                            View / Edit Group Arrangement
                        </button>
                    </div>
                    <div>
                        <span fxFlex="0 0 25%"> Task Lists: </span> 
                        <button class="btn btn-warning btn-sm">
                            View/Edit Task Lists
                        </button>
                    </div>
                </div>

                <div class="card-footer text-center">
                    <button (click)="deleteMeeting(meeting.id)" class="btn btn-danger btn-sm">Delete Meeting</button>
                </div>
        </div>

        <div *ngIf="isMeetingListEmpty">
            <div *ngIf="isProjectSelected">
                <h1> No Meetings for Selected Project. </h1>
            </div>
        </div>
    </div>






</div>



<!-- Modal -->
<div  data-backdrop="static" data-keyboard="false" 
 class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">View/Edit Arrangement</h5>
        <button (click)="resetTempValues()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        </div>
        <div fxLayout="row" fxLayoutGap="25px" class="modal-body">
            <div class="students-list">
                <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event, myStudentsList)">
                    <div [cdkDragDisabled]="!list.isMyClass" class="example-box" *ngFor="let list of myStudentsList" cdkDrag>{{list.firstName}}</div>
                </div>
            </div>

            <div class="students-list">
                <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event, partnerStudentsList)">
                    <div [cdkDragDisabled]="!list.isMyClass" class="example-box" *ngFor="let list of partnerStudentsList" cdkDrag>{{list.firstName}}</div>
                </div>
            </div>

            <div *ngIf="displayAdditionalColumn" class="students-list">
                <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event, additionalColumn)">
                    <div [cdkDragDisabled]="!list.isMyClass" class="example-box" *ngFor="let list of additionalColumn" cdkDrag>{{list.firstName}}</div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
        <button (click)="resetTempValues()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button (click)="saveArrangement()" type="button" class="btn btn-primary">Save changes</button>
        </div>
    </div>
    </div>
</div>